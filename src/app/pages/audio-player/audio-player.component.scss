/* ======================================================================
   AUDIO-PLAYER – STILI MOBILE (≤ 768 px)
   ====================================================================== */
@media (max-width: 768px) {

  /* --------------------------------------------------
     Overlay “audio-overlay”: sfocatura + oscuramento
     -------------------------------------------------- */
  .audio-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0);            /* stato iniziale */
    backdrop-filter: blur(0);
    -webkit-backdrop-filter: blur(0);              /* Safari */
    display: flex;
    justify-content: center;
    align-items: flex-end;                         /* il pannello sale dal basso */
    z-index: 2000;
    transition:
      background-color        0.4s ease,
      backdrop-filter         0.4s ease,
      -webkit-backdrop-filter 0.4s ease;
  }

  .audio-overlay.attiva   {                         /* overlay aperto */
    background-color: rgba(0, 0, 0, .40);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }

  .audio-overlay.chiusura {                         /* overlay in uscita */
    background-color: rgba(0, 0, 0, 0);
    backdrop-filter: blur(0);
    -webkit-backdrop-filter: blur(0);
  }

  /* --------------------------------------------------
     Pulsante “Chiudi” (in alto a destra)
     -------------------------------------------------- */
  .chiudi-testuale {
    position: absolute;
    top: 0;
    right: 1rem;
    transform: translateY(-1.25rem);
    background: none;
    border: none;
    color: #fcfafa;
    font: 500 .95rem/1 'Montserrat', sans-serif;
    cursor: pointer;
    padding: .25rem;
    z-index: 10;

    &:hover  { opacity: .7; text-decoration: underline; }
    &:active { opacity: .5; }
  }

  /* --------------------------------------------------
     Pannello “audio-panel”
     -------------------------------------------------- */
  .audio-panel {
    background: #fff;
    width: 100%;
    height: 58vh;                                  /* spinge il footer fuori vista */
    border-top-left-radius: 16px;
    border-top-right-radius: 16px;
    padding: 1rem 1.2rem 1.5rem;
    box-shadow: 0 -4px 12px rgba(0, 0, 0, .20);
    display: flex;
    flex-direction: column;
    overflow: hidden;                              /* blocca lo scroll esterno */
  }

  .audio-panel.chiusura {                           /* animazione di uscita */
    animation: slideDownFade .4s ease-in forwards;
  }

  @keyframes slideDownFade {
    from { transform: translateY(0);   opacity: 1; }
    to   { transform: translateY(100%); opacity: 0; }
  }

  /* --------------------------------------------------
     Titolo calligrafico
     -------------------------------------------------- */
  .titolo-melodie {
    font-family: 'Great Vibes', cursive;
    font-size: clamp(1.5rem, 5.5vw, 1.9rem);        /* 24-30 px circa */
    font-weight: 400;
    text-align: center;
    margin: 0 0 .75rem;
    line-height: 1.3;
    letter-spacing: .4px;
    color: #222;
  }

  /* --------------------------------------------------
     Lista melodie (Mat-List)
     -------------------------------------------------- */
  mat-list {
    flex: 1;                                       /* riempie lo spazio restante */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;             /* scroll fluido iOS */
  }

  .melodia-row {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;

    /* nome canzone in calligrafico */
    span {
      font-family: 'Great Vibes', cursive;
      font-size: clamp(1.25rem, 5vw, 1.45rem);     /* 20-23 px circa */
      line-height: 1.55;
      letter-spacing: .3px;
      color: #333;
    }

    /* icona play / pause (utilizza Material Icon) */
    button {
      --mat-icon-font-size: 1.6rem;                /* leggermente più grande */
    }

    /* separatore tra brani */
    & + mat-list-item::after {
      content: '';
      display: block;
      height: 1px;
      background: #eee;
      margin: .4rem 0 0;
      width: 100%;
    }
  }

  /* brano in riproduzione (aggiungi classe da TypeScript) */
  .melodia-row.is-playing span {
    font-weight: 600;
    color: #000;
  }
}
