/* =========================================
   HEADER COMPONENT (app-header)
   - Template unico (mobile + desktop)
   - Sticky dentro lo scroller Material
   - Safe-area iOS gestita lato mobile
   ========================================= */

:host {
  display: block;
  width: 100%;
}

/* ==========================================================================
   MOBILE (<= 768px)
   - Griglia a 3 colonne: [hamburger 40px][logo][spazio 40px]
   - Altezza barra: 40px, logo: 26px
   ========================================================================== */
@media (max-width: 768px) {
  :host {
    position: sticky;
    top: 0;
    z-index: 1000;
    display: block;
    background: #fff;
    padding-top: max(env(safe-area-inset-top, 0px), 0px);
  }

  .app-header,
  .app-header > .mat-toolbar-row,
  .app-header > .mat-mdc-toolbar-row {
    background: transparent;
    color: #000;
    box-shadow: none;
    border: 0;

    display: grid;
    grid-template-columns: 40px 1fr 40px;
    align-items: center;
    width: 100%;
    height: 40px;
    min-height: 40px;

    white-space: nowrap;
    text-align: left;
  }

  :host::before, :host::after,
  .app-header::before, .app-header::after { content: none; }

  .menu-button {
    grid-column: 1;
    justify-self: start;
    border: 0;
    background: transparent;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    padding: 0;
    margin: 0;

    .mat-icon, mat-icon {
      color: currentColor;
      line-height: 1;
      display: block;
    }
  }

  .logo {
    grid-column: 2;
    justify-self: center;
    display: inline-block;
    height: 26px;
    width: auto;
    cursor: pointer;
    user-select: none;
    margin: 0;
  }

  .right-space {
    grid-column: 3;
    justify-self: end;
    width: 40px;
    height: 1px;
  }
}

/* ==========================================================================
   DESKTOP (>= 769px)
   - Griglia a 3 colonne: [hamburger 72px][logo][spazio 72px]
   - Altezza barra: 72px, logo: 48px
   - Ombra leggera per separare
   - Lâ€™hamburger resta visibile su desktop
   ========================================================================== */
@media (min-width: 769px) {
  :host {
    position: sticky;
    top: 0;
    z-index: 1100;
    background: #fff;
    box-shadow: none; // riga sotto alla barra header
    padding-top: 0;
  }

  .app-header,
  .app-header > .mat-toolbar-row,
  .app-header > .mat-mdc-toolbar-row {
    background: transparent;
    color: #000;

    display: grid;
    grid-template-columns: 72px 1fr 72px; /* hamburger a sinistra, logo centrato, spazio di bilanciamento */
    align-items: center;
    width: 100%;
    height: 72px;
    min-height: 72px;
  }

  .menu-button {
    grid-column: 1;
    justify-self: start;
    border: 0;
    background: transparent;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 72px;
    height: 72px;
    padding: 0;
    margin: 0;

    .mat-icon, mat-icon {
      color: currentColor;
      line-height: 1;
      display: block;
      font-size: 24px; /* opzionale, Material gestisce la size di default */
    }
  }

  .logo {
    grid-column: 2;
    justify-self: center;
    display: inline-block;
    height: 48px;
    width: auto;
    cursor: pointer;
    user-select: none;
    margin: 0;
  }

  .right-space {
    grid-column: 3;
    justify-self: end;
    width: 72px;
    height: 1px;
  }
}

/* =========================
   NOTE TECNICHE:
   - Richiede in index.html:
     <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
   - Non applicare padding-top di safe-area al body o al contenitore che scorre (.mat-sidenav-content).
   - Per ancore interne, imposta scroll-padding-top sul contenitore che scorre:
     .mat-drawer-content, .mat-sidenav-content { scroll-padding-top: 56px; } 
   ========================= */
