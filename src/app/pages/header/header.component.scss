/* =========================================
   HEADER COMPONENT (app-header)
   - Header più alto
   - Dietro al banner (desktop via z-index; mobile via offset top)
   ========================================= */

:host {
  display: block;
  width: 100%;
}

/* =========================================
   MOBILE (<= 768px)
   - Griglia: [hamburger 64][logo][spazio 64]
   - Barra: 64px, logo ~42px (più grande e centrato)
   - Offset sotto al banner: usa valore fisso (puoi collegarlo a una var)
   ========================================= */
@media (max-width: 768px) {
  :host {
    position: sticky;
    top: 30px;                  /* altezza banner mobile attuale */
    z-index: 100;               /* il banner sopra resta visivamente davanti */
    display: block;
    background: #fff;
    padding-top: max(env(safe-area-inset-top, 0px), 0px);
  }

  .app-header,
  .app-header > .mat-toolbar-row,
  .app-header > .mat-mdc-toolbar-row {
    background: transparent;
    color: #000;
    box-shadow: none;
    border: 0;

    display: grid;
    grid-template-columns: 64px 1fr 64px; /* ↑ menu/spazio più ampi */
    align-items: center;
    justify-items: center;                 /* logo davvero centrato */
    width: 100%;
    height: 64px;                          /* ↑ altezza barra */
    min-height: 64px;
    white-space: nowrap;
    text-align: center;                    /* ulteriore garanzia di centratura */
  }

  :host::before, :host::after,
  .app-header::before, .app-header::after { content: none; }

  .menu-button {
    grid-column: 1;
    justify-self: start;
    border: 0;
    background: transparent;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 64px;              /* ↑ */
    height: 64px;             /* ↑ */
    padding: 0;
    margin: 0;
    cursor: pointer;

    .mat-icon, mat-icon {
      color: currentColor;
      line-height: 1;
      display: block;
      font-size: 28px;        /* ↑ icona un po’ più grande */
    }

    &:focus-visible {
      outline: 2px solid #0ea5e9;
      outline-offset: 2px;
      border-radius: 6px;
    }
  }

  .logo {
    grid-column: 2;
    justify-self: center;
    display: inline-block;
    height: 42px;             /* ↑ logo più grande e ben visibile */
    width: auto;
    cursor: pointer;
    user-select: none;
    margin: 0;
  }

  .right-space {
    grid-column: 3;
    justify-self: end;
    width: 64px;              /* ↑ */
    height: 1px;
  }
}

/* =========================================
   DESKTOP (>= 769px)
   - Griglia: [hamburger 88][logo][spazio 88]
   - Barra: 88px, logo ~56px
   - z-index sotto al banner (banner z-index: 1002)
   ========================================= */
@media (min-width: 769px) {
  :host {
    position: sticky;
    top: 0;
    z-index: 1001;           /* < 1002 del banner => header dietro al banner */
    background: #fff;
    box-shadow: none;
    padding-top: 0;
  }

  .app-header,
  .app-header > .mat-toolbar-row,
  .app-header > .mat-mdc-toolbar-row {
    background: transparent;
    color: #000;

    display: grid;
    grid-template-columns: 88px 1fr 88px;
    align-items: center;
    width: 100%;
    height: 88px;
    min-height: 88px;
  }

  .menu-button {
    grid-column: 1;
    justify-self: start;
    border: 0;
    background: transparent;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 88px;
    height: 88px;
    padding: 0;
    margin: 0;

    .mat-icon, mat-icon {
      color: currentColor;
      line-height: 1;
      display: block;
      font-size: 24px;
    }

    &:focus-visible {
      outline: 2px solid #0ea5e9;
      outline-offset: 2px;
      border-radius: 6px;
    }
  }

  .logo {
    grid-column: 2;
    justify-self: center;
    display: inline-block;
    height: 56px;
    width: auto;
    cursor: pointer;
    user-select: none;
    margin: 0;
  }

  .right-space {
    grid-column: 3;
    justify-self: end;
    width: 88px;
    height: 1px;
  }
}

/* NOTE:
   - Desktop: il banner ha z-index 1002; l’header a 1001 resta “dietro”.
   - Mobile: il banner è nel flusso (static); l’offset top dell’header lo posiziona sotto.
*/
