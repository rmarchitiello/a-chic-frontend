/* ============================================================
   TOP BANNER COMPONENT – template unico (mobile + desktop)
   - Presuppone un “tappo” fisso in alto creato globalmente (html/body::before)
     alto ~ max(env(safe-area-inset-top), 44px).
   - Mobile: il banner NON è sticky (scorre via).
   - Desktop: il banner è sticky (agganciato al top).
   ============================================================ */

/* Contenitore del componente (neutro) */
:host {
  display: block;
  box-sizing: border-box;
}

/* Nodo banner (colore, testo e clipping orizzontale) */
.top-banner {
  background: #000;   /* colore del banner */
  color: #fff;        /* colore del testo */
  overflow: hidden;   /* nasconde il testo che scorre ai bordi */
}

/* Riga testuale che scorre (due copie di testo per loop continuo) */
.marquee {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 2rem;
  white-space: nowrap;
  width: max-content;        /* la riga si misura sul contenuto */
  will-change: transform;    /* hint prestazioni */
}

.marquee-segment {
  display: inline-block;     /* evita a capo e mantiene il flusso inline */
}

/* ============================
   MOBILE (≤ 768px): non sticky
   ============================ */
@media (max-width: 768px) {
  .top-banner {
    position: static;     /* scorre nel flusso */
    min-height: 40px;     /* altezza visiva del banner */
    padding-inline: 0.6rem;
  }

  /* Velocità e animazione del testo su mobile */
  .marquee {
    animation: marquee-mobile 20s linear infinite;
  }
}

/* ============================
   DESKTOP (≥ 769px): sticky
   ============================ */
@media (min-width: 769px) {
  .top-banner {
    position: sticky;   /* resta agganciato al top quando si scrolla */
    top: 0;             /* bordo superiore del viewport/container */
    height: 2.2rem;     /* altezza fissa del banner desktop */
    padding-inline: 0.75rem;
    z-index: 1002;      /* sopra al contenuto, sotto header modali */
  }

  /* Velocità e animazione del testo su desktop */
  .marquee {
    animation: marquee-desktop 28s linear infinite;
  }
}

/* ============================
   Animazioni marquee
   - Due copie del testo → -50% = loop continuo
   ============================ */
@keyframes marquee-mobile {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); }
}
@keyframes marquee-desktop {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); }
}

/* ============================
   Accessibilità: riduzione movimento
   ============================ */
@media (prefers-reduced-motion: reduce) {
  .marquee {
    animation-duration: 999s;  /* quasi fermo, ma non “salta” */
  }
}
