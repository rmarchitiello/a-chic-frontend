/* =========================================================
   OVERLAY (MatDialog) — scroll SOLO su Y
   ========================================================= */
::ng-deep .cdk-overlay-pane.popup-caroselli-editor {
  overflow-y: auto;
}

//sovrascrive i mat prefix 
:host ::ng-deep .mat-mdc-form-field .mat-mdc-form-field-icon-prefix > .mat-icon,
:host ::ng-deep .mat-mdc-form-field .mat-mdc-form-field-icon-suffix > .mat-icon {
  padding: 0 !important;  /* rimuove il 0 12px di Material */
}


/* =========================================================
   FORM CAROSELLO — BASE
   ========================================================= */
.form-carosello {
  background: #fff;
  border: 0;
  border-radius: 12px;
  width: 100%;
  box-shadow: none;
  box-sizing: border-box;
  overflow-x: hidden;
}
.form-carosello--full {
  max-width: 100%;
  margin: 0;
}
.form-carosello * {
  box-sizing: border-box;
  max-width: 100%;
}

.form-title {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #1f6feb;
}
.form-subtitle { color: #667085; }
mat-divider { display: block; }

.section-title {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #2b2f36;
  font-weight: 600;
  background: #eef5ff;
  border: 1px solid #e7eefc;
  padding: 8px 10px;
  border-radius: 8px;
}

.form-carosello mat-form-field {
  display: block;
  width: 100%;
}

/* =========================================================
   CAMPO + ICONA INFO (per i mat-form-field)
   ========================================================= */
.field-with-info {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  margin-bottom: 12px;
}
.field-with-info mat-form-field {
  flex: 1 1 auto;
  margin: 0;
}

.info-label {
  width: 32px;
  height: 32px;
  padding: 0;
  border: none;
  background: transparent;
  border-radius: 6px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.info-label mat-icon {
  font-size: 18px;
  color: #667085;
  line-height: 1;
}
.info-label:hover mat-icon,
.info-label:focus-visible mat-icon { color: #1f6feb; }
.info-label:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(31,111,235,.18);
}

/* Tooltip custom (se usi [matTooltipClass]="'tooltip-custom'") */
.tooltip-custom {
  background: #1f2937;
  color: #fff;
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 6px;
}

/* =========================================================
   FIX VISIVO DELLE ICONE NEI CAMPI (prefix/suffix/arrow)
   —> qui creo PIÙ SPAZIO tra icona e testo del campo
   ========================================================= */

/* centro verticalmente tutto il blocco input/select */
.form-carosello .mat-mdc-form-field .mat-mdc-form-field-flex {
  display: flex;
  align-items: center;
}

/* contenitore icon-prefix: lo centro e aggiungo GAP a destra */
.form-carosello .mat-mdc-form-field .mat-mdc-form-field-icon-prefix {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 10px;       /* <<< gap extra tra icona e valore */
  padding: 0;               /* niente padding, solo margine */
  color: #475569;
}

/* contenitore icon-suffix: simile, ma con gap a sinistra */
.form-carosello .mat-mdc-form-field .mat-mdc-form-field-icon-suffix {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: 8px;
  padding: 0;
  color: #475569;
}

/* dimensiono le icone (nitide e allineate) */
.form-carosello .mat-mdc-form-field .mat-mdc-form-field-icon-prefix mat-icon,
.form-carosello .mat-mdc-form-field .mat-mdc-form-field-icon-suffix mat-icon {
  font-size: 20px;
  width: 20px;
  height: 20px;
  line-height: 1;
  transform: translateY(1px); /* micro correzione */
}

/* un filo di padding interno all’infix per respirare */
.form-carosello .mat-mdc-form-field .mat-mdc-form-field-infix {
  padding-left: 6px;        /* <<< aiuta anche su input senza prefix */
  padding-right: 6px;
}

/* testo input/select con line-height regolare */
.form-carosello .mat-mdc-form-field .mdc-text-field__input {
  line-height: 1.4;
}

/* select: trigger centrato e freccia un pelo più visibile */
.form-carosello .mat-mdc-select-trigger {
  display: flex;
  align-items: center;
  min-height: 56px;         /* “comfortable” */
}
.form-carosello .mat-mdc-select-arrow {
  transform: scale(1.05);
  color: #475569;
}

/* suffissi testuali (es. “ms”) */
.form-carosello .mat-mdc-form-field span[matSuffix] {
  display: inline-flex;
  align-items: center;
  padding: 0 8px 0 4px;
  font-size: 13px;
  color: #667085;
}

/* =========================================================
   RITOCCHI MATERIAL (etichette, hint, errori, bordi)
   ========================================================= */
.mat-mdc-form-field .mdc-floating-label,
.mat-mdc-form-field .mdc-floating-label--float-above {
  color: #1b1f24;
  opacity: 1;
}
.mat-mdc-form-field-hint { color: #6b7280; }
.mat-mdc-form-field-error {
  color: #cc2b2b;
  font-weight: 600;
}

.mdc-notched-outline__leading,
.mdc-notched-outline__notch,
.mdc-notched-outline__trailing { border-color: #d7dbe3; }
.mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing { border-color: #1f6feb; }

/* =========================================================
   TOGGLE + ICONA INFO
   ========================================================= */
.toggle-with-info {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  width: 100%;
  margin: 8px 0;
}
.form-carosello mat-slide-toggle .mdc-label,
.form-carosello mat-slide-toggle .mat-slide-toggle-content {
  font-weight: 500;
  color: #2b2f36;
}

/* =========================================================
   AZIONI (pulsanti)
   ========================================================= */
.actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}
.actions button[mat-stroked-button] {
  border-color: #d5d9e3;
  color: #1b1f24;
  background: #f6f8fc;
}
.actions button[mat-raised-button] {
  background: #1f6feb;
  color: #fff;
}
.actions button[mat-raised-button][disabled] {
  background: #9fc2ff;
  color: #f1f5f9;
}
.actions .btn-success[mat-raised-button] {
  background: #22a86a;
  color: #fff;
}

/* =========================================================
   ACCORDION / EXPANSION PANEL
   ========================================================= */
.form-carosello .mat-accordion { display: block; margin: 6px 0 10px 0; }
.form-carosello .mat-expansion-panel {
  border: 1px solid #e7eefc;
  border-radius: 10px;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,.04);
  overflow: hidden;
  margin: 10px 0;
  width: 100%;
}
.form-carosello .mat-expansion-panel-header {
  min-height: 44px;
  padding: 8px 12px;
  background: #f9fbff;
  color: #2b2f36;
  border-bottom: 1px solid #e7eefc;
}
.form-carosello .mat-expansion-panel-header mat-icon {
  color: #1f6feb;
  font-size: 20px;
  margin-right: 8px;
}
.form-carosello .mat-expansion-panel-header .mat-expansion-panel-header-title {
  font-weight: 600;
  letter-spacing: .1px;
}
.form-carosello .mat-expansion-indicator::after { color: #1f6feb; }
.form-carosello .mat-expansion-panel-header:hover {
  background: #eef5ff;
  border-bottom-color: #dae6fd;
}
.form-carosello .mat-expansion-panel.mat-expanded {
  border-color: #bed4ff;
  box-shadow: 0 4px 14px rgba(31,111,235,.08);
  position: relative;
}
.form-carosello .mat-expansion-panel.mat-expanded::before {
  content: "";
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 3px;
  background: #1f6feb;
}
.form-carosello .mat-expansion-panel.mat-expanded .mat-expansion-panel-header {
  background: #f2f7ff;
  border-bottom-color: #d7e4ff;
}
.form-carosello .mat-expansion-panel-body {
  padding: 12px;
  background: #fff;
}
.form-carosello .mat-expansion-panel-body mat-form-field { margin-bottom: 12px; }
.form-carosello .mat-expansion-panel-body mat-slide-toggle { margin: 8px 0; }
.form-carosello .mat-expansion-panel.mat-expansion-panel-disabled {
  opacity: .6; filter: grayscale(10%); cursor: not-allowed;
}
.form-carosello .mat-accordion[displaymode="flat"] .mat-expansion-panel,
.form-carosello .mat-accordion[displayMode="flat"] .mat-expansion-panel {
  box-shadow: none; border-color: #e7eefc;
}
.form-carosello .mat-expansion-panel-header .badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  background: #e8f2ff;
  color: #1f6feb;
  font-size: 12px;
  margin-left: 6px;
}

/* =========================================================
   MOBILE (≤ 768px)
   ========================================================= */
@media (max-width: 768px) {
  .form-carosello {
    padding: 16px;
    margin: 0;
    position: relative;
  }

  .form-carosello .chiudi-btn {
    position: absolute;
    top: 8px; right: 8px;
    width: 32px; height: 32px;
    background: transparent; border: none; padding: 0;
    display: inline-flex; align-items: center; justify-content: center;
    cursor: pointer; border-radius: 8px; z-index: 2;
  }
  .form-carosello .chiudi-btn mat-icon { color: #1b1f24; font-size: 20px; line-height: 1; }

  .form-title { margin: 0 0 6px 0; font-size: 20px; line-height: 1.2; }
  .form-subtitle { margin: 0 0 12px 0; font-size: 14px; }

  .field-with-info { margin-bottom: 12px; }
  .toggle-with-info { margin: 8px 0; }

  .actions { margin-top: 16px; }

  .form-carosello .mat-expansion-panel-header { min-height: 42px; padding: 8px 10px; }
  .form-carosello .mat-expansion-panel-body { padding: 12px; }
  .form-carosello .mat-expansion-panel { margin: 8px 0; }
}

/* =========================================================
   DESKTOP (≥ 769px)
   ========================================================= */
@media (min-width: 769px) {
  .form-carosello {
    max-width: 900px;
    padding: 24px 28px;
    border-radius: 14px;
    margin: 0 auto;
    position: relative;
  }

  .form-carosello .chiudi-btn {
    position: absolute;
    top: 12px; right: 12px;
    width: 36px; height: 36px;
    background: transparent; border: none; padding: 0;
    display: inline-flex; align-items: center; justify-content: center;
    cursor: pointer; border-radius: 8px;
  }
  .form-carosello .chiudi-btn mat-icon { color: #1b1f24; font-size: 22px; line-height: 1; }

  .form-title { font-size: 22px; margin-bottom: 8px; }
  .form-subtitle { font-size: 15px; margin-bottom: 16px; }

  .field-with-info { margin-bottom: 14px; }
  .toggle-with-info { margin: 10px 0 14px 0; }

  .actions { margin-top: 20px; }

  .form-carosello .mat-expansion-panel-header { min-height: 48px; padding: 10px 14px; }
  .form-carosello .mat-expansion-panel-body { padding: 16px; }
  .form-carosello .mat-expansion-panel { margin: 12px 0; }
}

