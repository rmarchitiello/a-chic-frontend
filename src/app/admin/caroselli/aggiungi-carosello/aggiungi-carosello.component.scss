/* =========================================================
   FORM CAROSELLO — PALETTE BLU/VERDE (BASICO)
   Io uso:
   - Blu accento: #1f6feb (testi/azioni principali)
   - Blu soft:    #eef5ff (pannelli chiari)
   - Verde accento: #22a86a (azioni positive)
   - Grigi neutri per testo/bordi
   ========================================================= */

/* Card del form: fondo chiaro, bordo sottile, ombra leggera */
.form-carosello {
  background: #ffffff;
  border: 1px solid #e7e9ee;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, .06);
}

/* Titolo principale: blu accento per evidenza */
.form-title {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #1f6feb;
}

/* Sottotitolo: grigio medio, non invadente */
.form-subtitle {
  color: #667085;
}

/* Divider come blocco per gestire i margini verticali */
mat-divider {
  display: block;
}

/* Titoli di sezione “statici”: testo scuro con sfondo blu soft */
.section-title {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #2b2f36;
  font-weight: 600;
  background: #eef5ff;
  border: 1px solid #e7eefc;
  padding: 8px 10px;
  border-radius: 8px;
}

/* Campi full-width di base */
.form-carosello mat-form-field {
  width: 100%;
}

/* =========================================================
   SEZIONE UNICA DEI TOGGLE (se la usi)
   Io la rendo riconoscibile con uno sfondo soft e bordo leggero.
   ========================================================= */

.toggles-section {
  margin: 8px 0 12px 0;
  padding: 10px 12px;
  background: #f7fbff;        /* azzurrino coerente col tema */
  border: 1px solid #e3eefc;  /* bordo morbido */
  border-radius: 10px;
}

/* Toggle: riga dedicata con spaziatura uniforme */
.form-carosello mat-slide-toggle {
  display: block;
  margin: 8px 0;
}

/* Testo del toggle: un filo più marcato e scuro */
.form-carosello mat-slide-toggle .mdc-label,
.form-carosello mat-slide-toggle .mat-slide-toggle-content {
  font-weight: 500;
  color: #2b2f36;
}

/* =========================================================
   RITOCCHI MINIMI MATERIAL (MDC) PER I CAMPI
   Io aumento contrasto e allineo i colori all’accento blu.
   ========================================================= */

.mat-mdc-form-field .mdc-floating-label,
.mat-mdc-form-field .mdc-floating-label--float-above {
  color: #1b1f24;
  opacity: 1;
}

.mat-mdc-form-field-hint {
  color: #6b7280;
}

.mat-mdc-form-field-error {
  color: #cc2b2b;
  font-weight: 600;
}

.mdc-notched-outline__leading,
.mdc-notched-outline__notch,
.mdc-notched-outline__trailing {
  border-color: #d7dbe3;
}

/* Stato focus: bordo blu accento */
.mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing {
  border-color: #1f6feb;
}

/* Icone prefix/suffix tono neutro */
.mat-mdc-form-field-icon-prefix,
.mat-mdc-form-field-icon-suffix {
  color: #475569;
}

/* Pulsanti area azioni */
.actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}
.actions button[mat-stroked-button] {
  border-color: #d5d9e3;
  color: #1b1f24;
  background: #f6f8fc;
}
.actions button[mat-raised-button] {
  background: #1f6feb; /* blu accento */
  color: #ffffff;
}
.actions button[mat-raised-button][disabled] {
  background: #9fc2ff; /* blu schiarito */
  color: #f1f5f9;
}
/* Utility per azioni “positive” in verde */
.actions .btn-success[mat-raised-button] {
  background: #22a86a;
  color: #ffffff;
}

/* =========================================================
   MAT ACCORDION & EXPANSION PANEL — LOOK BLU/SOFT
   Qui rendo i pannelli più leggibili e coerenti col tema.
   Io applico gli stili dentro al form per non “sporcare” altrove.
   ========================================================= */

/* Contenitore accordion: creo uno spacing uniforme */
.form-carosello .mat-accordion {
  display: block;
  margin: 6px 0 10px 0;
}

/* Pannello: bordo morbido, raggio e ombra leggera */
.form-carosello .mat-expansion-panel {
  border: 1px solid #e7eefc;     /* blu very soft */
  border-radius: 10px;
  background: #ffffff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, .04);
  overflow: hidden;               /* rispetto gli angoli anche sull’header */
  margin: 10px 0;
}

/* Header del pannello: compatto, sfondo soft e icone visibili */
.form-carosello .mat-expansion-panel-header {
  min-height: 44px;               /* altezza comoda anche su mobile */
  padding: 8px 12px;
  background: #f9fbff;            /* blu molto chiaro */
  color: #2b2f36;
  border-bottom: 1px solid #e7eefc;
  transition: background .15s ease, border-color .15s ease;
}

/* Icona a sinistra nel titolo (se la usi nel template) */
.form-carosello .mat-expansion-panel-header mat-icon {
  color: #1f6feb;                 /* accento blu */
  font-size: 20px;
  margin-right: 8px;
}

/* Titolo del pannello più marcato */
.form-carosello .mat-expansion-panel-header .mat-expansion-panel-header-title {
  font-weight: 600;
  letter-spacing: .1px;
}

/* Indicatore (freccia) del pannello: colore coerente col tema */
.form-carosello .mat-expansion-indicator::after {
  color: #1f6feb;
}

/* Hover del header: fondo più evidente e bordo appena più scuro */
.form-carosello .mat-expansion-panel-header:hover {
  background: #eef5ff;            /* blu soft */
  border-bottom-color: #dae6fd;
}

/* Focus tastiera: anello blu morbido */
.form-carosello .mat-expansion-panel-header.mat-focus-indicator:focus,
.form-carosello .mat-expansion-panel-header.cdk-keyboard-focused {
  outline: none;
  box-shadow: 0 0 0 3px rgba(31, 111, 235, .18);
}

/* Stato aperto: bordo/ombra più decisi e barra sinistra di accento */
.form-carosello .mat-expansion-panel.mat-expanded {
  border-color: #bed4ff;
  box-shadow: 0 4px 14px rgba(31, 111, 235, .08);
  position: relative;
}
.form-carosello .mat-expansion-panel.mat-expanded::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;                     /* barra di accento */
  background: #1f6feb;
}

/* Header quando il pannello è aperto */
.form-carosello .mat-expansion-panel.mat-expanded .mat-expansion-panel-header {
  background: #f2f7ff;
  border-bottom-color: #d7e4ff;
}

/* Corpo del pannello: padding comodo e fondo bianco */
.form-carosello .mat-expansion-panel-body {
  padding: 12px;                  /* mobile-first; aumento su desktop */
  background: #ffffff;
}

/* Campi e toggle dentro ai pannelli: spaziatura regolare */
.form-carosello .mat-expansion-panel-body mat-form-field {
  display: block;
  width: 100%;
  margin-bottom: 12px;
}
.form-carosello .mat-expansion-panel-body mat-slide-toggle {
  display: block;
  margin: 8px 0;
}

/* Pannello disabilitato: aspetto inattivo evidente */
.form-carosello .mat-expansion-panel.mat-expansion-panel-disabled {
  opacity: .6;
  filter: grayscale(10%);
  cursor: not-allowed;
}

/* Variante “flat”: rimuovo ombra e conservo lo spacing */
.form-carosello .mat-accordion[displaymode="flat"] .mat-expansion-panel,
.form-carosello .mat-accordion[displayMode="flat"] .mat-expansion-panel {
  box-shadow: none;
  border-color: #e7eefc;
}
.form-carosello .mat-accordion .mat-expansion-panel.mat-expansion-panel-spacing {
  margin: 10px 0;
}

/* Badge opzionale vicino al titolo panel (se lo aggiungi nel template) */
.form-carosello .mat-expansion-panel-header .badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  background: #e8f2ff;
  color: #1f6feb;
  font-size: 12px;
  margin-left: 6px;
}

/* =========================================================
   MOBILE (≤ 768px)
   Io tengo header compatti e padding stretti.
   ========================================================= */
@media (max-width: 768px) {
  .form-carosello {
    padding: 16px;
    margin: 0 auto;
    max-width: 100%;
  }

  .form-title {
    margin: 0 0 6px 0;
    font-size: 20px;
    line-height: 1.2;
  }

  .form-subtitle {
    margin: 0 0 12px 0;
    font-size: 14px;
  }

  mat-divider {
    margin: 12px 0;
  }

  .section-title {
    margin: 16px 0 8px 0;
    font-size: 16px;
  }

  .form-carosello mat-form-field {
    margin-bottom: 12px;
  }

  .form-carosello mat-slide-toggle {
    margin: 8px 0;
  }

  .actions {
    margin-top: 16px;
  }

  /* Accordion/pannelli: header compatti e margini ridotti */
  .form-carosello .mat-expansion-panel-header {
    min-height: 42px;
    padding: 8px 10px;
  }
  .form-carosello .mat-expansion-panel-body {
    padding: 12px;
  }
  .form-carosello .mat-expansion-panel {
    margin: 8px 0;
  }
}

/* =========================================================
   DESKTOP (≥ 769px)
   Io aumento spazi e respiro tra pannelli.
   ========================================================= */
@media (min-width: 769px) {
  .form-carosello {
    max-width: 900px;
    padding: 24px 28px;
    border-radius: 14px;
    margin: 0 auto;
  }

  .form-title {
    font-size: 22px;
    margin-bottom: 8px;
  }

  .form-subtitle {
    font-size: 15px;
    margin-bottom: 16px;
  }

  mat-divider {
    margin: 16px 0;
  }

  .section-title {
    margin-top: 24px;
    margin-bottom: 10px;
    font-size: 18px;
  }

  .form-carosello mat-form-field {
    margin-bottom: 14px;
  }

  .form-carosello mat-slide-toggle {
    margin: 10px 0 14px 0;
  }

  .actions {
    margin-top: 20px;
  }

  /* Accordion/pannelli: più aria su desktop */
  .form-carosello .mat-expansion-panel-header {
    min-height: 48px;
    padding: 10px 14px;
  }
  .form-carosello .mat-expansion-panel-body {
    padding: 16px;
  }
  .form-carosello .mat-expansion-panel {
    margin: 12px 0;
  }
}
