<div class="carosello-container" *ngIf="immaginiCarosello.caroselloImmaginiInput.length > 0; else noImages">

  <!-- Pulsanti azione in alto a destra -->
  <div class="action-buttons">
    <button mat-icon-button class="add-button" (click)="caricaNuovaImmagine()" matTooltip="Aggiungi immagine" aria-label="Aggiungi">
      <mat-icon color="primary">add</mat-icon>
    </button>

    <button mat-icon-button class="download-button" (click)="downloadMedia()" matTooltip="Scarica immagine" aria-label="Download">
      <mat-icon>download</mat-icon>
    </button>

    <button mat-icon-button class="delete-button" (click)="eliminaImmagine()" matTooltip="Elimina immagine" aria-label="Elimina">
      <mat-icon color="warn">delete</mat-icon>
    </button>
  </div>

  <!-- Titolo -->
  <h3 class="titolo-immagine">Immagine {{ currentIndex + 1 }} di {{ immaginiCarosello.caroselloImmaginiInput.length }}</h3>

  <!-- Immagine corrente -->
  <div class="immagine-wrapper">
    <img [src]="immaginiCarosello.caroselloImmaginiInput[currentIndex]"
         alt="Immagine carosello {{ currentIndex + 1 }}" />
  </div>



  <div class="bottom-controls">
  <div class="controls">
    <button mat-raised-button color="primary" [ngStyle]="{ cursor: 'pointer' }" (click)="prevImage()" [disabled]="currentIndex === 0">
      <mat-icon>chevron_left</mat-icon>
    </button>

    <button mat-raised-button color="primary" [ngStyle]="{ cursor: 'pointer' }" (click)="nextImage()" [disabled]="currentIndex === immaginiCarosello.caroselloImmaginiInput.length - 1">
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>

  <button mat-stroked-button color="primary" class="chiudi-button" (click)="chiudiDialog()">
    Chiudi
  </button>
</div>

</div>

<!-- Nessuna immagine -->
<ng-template #noImages>
  <div class="messaggio-vuoto">
    <mat-icon class="icona-vuoto">image_not_supported</mat-icon>
    <h3>Nessuna immagine disponibile.</h3>
    <button mat-flat-button color="primary" (click)="chiudiDialog()">Chiudi</button>
  </div>
</ng-template>
