<div class="dialog-content">
  <!-- Pulsante di chiusura -->
  <button class="chiudi-btn" mat-icon-button (click)="chiudiDialog()">
    <mat-icon>close</mat-icon>
  </button>

  <div class="preview-container">
    <!-- Mostra solo immagini frontali, in card affiancate -->
    <div class="preview-card" *ngFor="let url of getMediaUrlsFrontale(mediasInput)">

      <!-- Salvo il context relativo alla url in myContext all'inizio -->
      <ng-container *ngIf="getContextFromMediaUrl(itemsInput, url) as myContext">

        <!-- Mostra l'immagine -->
        <img [src]="url" [alt]="myContext.display_name || 'media senza nome'" />

        <!--
  Itera sulle coppie chiave/valore del context (myContext), ordinandole con getOrderedEntries()
  In ordine: mostra prima 'display_name', 'descrizione', 'type', 'quantita', poi gli altri
  Ogni campo viene visualizzato su una riga con la chiave formattata e un valore abbreviato
  Se il valore supera i 40 caratteri, viene mostrato un tooltip con il contenuto completo
  La funzione formatKey() formatta le chiavi tecniche (es. 'display_name') in etichette leggibili (es. 'Nome File')
  La funzione getPreview() tronca i testi lunghi con 'â€¦'
  La funzione isLongText() abilita/disabilita il tooltip a seconda della lunghezza del contenuto
-->
        <p class="media-display-name" *ngFor="let entry of getOrderedEntries(myContext)">
          <strong>{{ formatKey(entry.key) }}:</strong>
          <span [matTooltip]="entry.value" [matTooltipDisabled]="!isLongText(entry.value)" matTooltipPosition="above">
            {{ getPreview(entry.value) }}
          </span>
        </p>




      </ng-container>

    </div>
  </div>

</div>